<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>JSF Cookie</title>
    </h:head>
    <h:body>
        <h:form id="form">
            <p:messages closable="true"/>

            <p:panelGrid columns="2">

                <p:outputLabel value="Usuario"/>
                <p:inputText id="usuario" required="true"/>

                <p:outputLabel value="Email"/>
                <p:inputText id="email" required="true"/>

                <p:outputLabel value="Idade"/>
                <p:inputText id="idade"  required="true">
                    <f:validateLongRange minimum="1" maximum="150"/>
                </p:inputText>

                <p:commandButton onclick="gravarcookies();" value="Entrar" update="@form"/>

            </p:panelGrid>

        </h:form>
    </h:body>
    <h:outputScript library="js" name="funcoes.js"/>
    <script>

        $(document).ready(function () {
            lercookies();
        });

        function gravarcookies() {
            var usuario = document.getElementById('form:usuario').value;
            var email = document.getElementById('form:email').value;
            var idade = document.getElementById('form:idade').value;
            createCookie('usuario', usuario, 30);
            createCookie('email', email, 30);
            createCookie('idade', idade, 30);
        }

        function lercookies() {
            document.getElementById('form:usuario').value = readCookie('usuario');
            document.getElementById('form:email').value = readCookie('email');
            document.getElementById('form:idade').value = readCookie('idade');

        }



    </script>
</html>

